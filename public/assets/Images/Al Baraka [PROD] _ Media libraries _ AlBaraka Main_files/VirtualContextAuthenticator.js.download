cmsdefine(["CMS/EventHub","CMS.Builder/Constants","CMS.Builder/FrameLoader"],function(n,t,i){var u=function(n){var t=n.authenticationFrameUrl,i=n.refreshInterval,u=n.mvcSignInToken;r(t,u);setInterval(function(){raiseGetAuthenticationFrameDataCallback()},i*1e3)},r=function(r,u){var f=document.createElement("iframe");f.style.display="none";f.onload=function(){window.addEventListener("message",u=>{var s=new URL(r),e,o;u.origin===s.origin&&u.data===t.AUTHENTICATED_MVC_FRAME_POST_MESSAGE&&(f.parentNode.removeChild(f),e=i.getMvcFrameAuthenticatedEventName(r),n.publish(e),o=i.getMvcFrameAuthenticatedEventName(window.location.origin),n.publish(o))},{once:!0});var e=new URL(r);f.contentWindow.postMessage({key:t.AUTHENTICATE_MVC_FRAME_POST_MESSAGE,token:u},e.origin)};f.src=r;document.body.appendChild(f)},f=function(n){const t=n.indexOf(";"),i=n.slice(0,t),u=n.slice(t+1);r(i,u)};return n.subscribe(t.ADMIN_FRAME_REQUEST_AUTHENTICATION_EVENT_NAME,function(n){raiseGetAuthenticationFrameDataCallback(n.culture)}),window.CMS=window.CMS||{},window.CMS.VirtualContextAuthenticator=window.CMS.VirtualContextAuthenticator||{},window.CMS.VirtualContextAuthenticator.getAuthenticationFrameDataCallback=f,u})