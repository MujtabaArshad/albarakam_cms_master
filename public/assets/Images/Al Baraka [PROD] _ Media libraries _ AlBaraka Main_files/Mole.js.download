cmsdefine(["CMS/EventHub","CMS/Application","Underscore"],function(n,t){var i=null,r=function(n,i,u){var o=0,s=n.frames.length,e,f,h;if(s>0)for(u[i]=u[i]||[],o;o<s;o++)if(f=n.frames[o],f){try{h=f.location.href}catch(c){continue}e=t.getData(null,f);e&&!e.isDialog?(e.frame=f,u[i].push(e),r(f,i+1,u)):e||r(f,i+1,u)}},u=function(t){var f=[],u=_.toArray(t);i=null;r(window,0,f);u.unshift(f);u.unshift("ApplicationChanged");n.publish.apply(n,u)},f=function(){var n=arguments;i||(i=setTimeout(function(){u(n)},300))};return function(){n.subscribe("PageLoaded",f)}})