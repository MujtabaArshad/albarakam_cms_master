cmsdefine(["jQuery","Underscore","CMS/EventHub"],function(n,t,i){var o,r,e,u="header-shadow",s=n(document),f=t.throttle(function(){if(n(this).length>0&&(l(),o.length>0)){if(n(this).hasClass("no-shadow-interact"))return;n(this).scrollTop()>0?h(this,!0):h(this,!1)}},1e3/60),l=function(){if(o==null||o.length<=0)["div.shadow-holder","div.PreviewMenu","div.preview-edit-panel","div#CMSHeaderDiv","div.object-edit-panel","div.header-container","div#CKToolbar","div.preview-edit-panel","div.cms-edit-menu","div.header-actions-container"].forEach(function(t){n(t).height()>0&&o.push({$object:n(t),selector:t})})},h=function(i,f){e=!1;t.each(o,function(t){e===!1&&((r=n(i).prevAll(t.selector)).length>0?(f?r.addClass(u):r.removeClass(u),e=!0):(r=n(i).prevAll("div").find(t.selector).first()).length>0?(f?r.addClass(u):r.removeClass(u),e=!0):(r=n(i).parents("div").prevAll("div").find(t.selector).first()).length>0?(f?r.addClass(u):r.removeClass(u),e=!0):(r=n(i).find(t.$object).first()).length>0?(f?r.addClass(u):r.removeClass(u),e=!0):(r=t.$object.first(),f?r.addClass(u):r.removeClass(u),e=!0))})},c=function(){var r,t,i;s.on("scroll",f);n(".scroll-area,.PageContent,.PreviewBody,.DeviceFrame,.dialog-content").on("scroll",f);try{r=t.contents();t=n("iframe.scroll-area");t.ready(function(){t.contents().on("scroll",f)});t.load(function(){t.contents().on("scroll",f);f.call(t.contents())})}catch(e){}if(o=[],typeof Sys!="undefined"){i=Sys.WebForms.PageRequestManager.getInstance();function u(){f.call(n(".DialogViewContent.scroll-area, .UIContent.scroll-area"));s.on("scroll",f);n(".scroll-area,.PageContent,.PreviewBody,.DeviceFrame,.dialog-content").on("scroll",f)}i.add_endRequest(u)}};return s.ready(c),i.subscribe("cms.angularViewLoaded",c),function(){}})